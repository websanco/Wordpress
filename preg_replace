return preg_replace('!\s+!', ' ', $value);
<!DOCTYPE html> <html> <head> <title>Page Title</title> </head> <body data-rsssl=1> <h1>2</h1> <p>This is a paragraph.</p> </body> </html>

return  preg_replace("/\r\n|\r|\n/", '\\r', $value);

<!DOCTYPE html>\r<html>\r<head>\r<title>Page Title</title>\r</head>\r<body data-rsssl=1>\r\r<h1>2</h1>\r<p>This is a paragraph.</p>\r\r</body>\r</html>


liveRoom.contentWindow.document.write(editor.getValue());
liveRoom.contentWindow.document.close();

OK
